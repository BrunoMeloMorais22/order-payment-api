# ğŸ’³ Payment API â€“ Stripe-like Simulation

API de processamento de pagamentos inspirada no fluxo do Stripe.

Projeto desenvolvido com foco em arquitetura backend profissional, incluindo autenticaÃ§Ã£o JWT, gerenciamento de pedidos e simulaÃ§Ã£o de Payment Intent.

---

## ğŸš€ Tecnologias Utilizadas

- Python 3
- Flask
- Flask SQLAlchemy
- PostgreSQL
- Flask JWT Extended
- Flask Bcrypt
- UUID para identificaÃ§Ã£o de entidades
- Arquitetura modular com Blueprints

---

## ğŸ“¦ Funcionalidades

âœ” Registro e autenticaÃ§Ã£o de usuÃ¡rios  
âœ” CriaÃ§Ã£o de pedidos (Order)  
âœ” CriaÃ§Ã£o de Payment Intent  
âœ” ConfirmaÃ§Ã£o de pagamento  
âœ” AtualizaÃ§Ã£o automÃ¡tica do status do pedido  
âœ” ProteÃ§Ã£o de rotas com JWT  
âœ” Hash seguro de senha com bcrypt  

---

## ğŸ§  Fluxo de Pagamento

1. UsuÃ¡rio cria um pedido (status: `PENDING`)
2. UsuÃ¡rio cria um Payment Intent
3. UsuÃ¡rio confirma o pagamento
4. Pedido Ã© atualizado automaticamente para `PAID`

---

## ğŸ” AutenticaÃ§Ã£o

A API utiliza JWT.

ApÃ³s login, utilize o token no header:

## ğŸ“Œ Endpoints Principais

### ğŸ”¹ Auth

**POST** `/auth/register`
```json
{
  "email": "user@email.com",
  "password": "123456"
}

POST /auth/login


ğŸ”¹ Orders

POST /orders/

{
  "amount": 150.00
}

ğŸ”¹ Payments

POST /payments/create-intent

{
  "order_id": "UUID_DO_PEDIDO"
}


POST /payments/confirm

{
  "payment_intent_id": "ID_DO_PAYMENT_INTENT"
}


âš™ï¸ ConfiguraÃ§Ã£o do Projeto
1ï¸âƒ£ Clone o repositÃ³rio
git clone URL_DO_REPOSITORIO
cd payment-api

2ï¸âƒ£ Crie o ambiente virtual
python -m venv venv


Ativar:

Windows:

venv\Scripts\activate


Mac/Linux:

source venv/bin/activate

3ï¸âƒ£ Instale as dependÃªncias
pip install -r requirements.txt

4ï¸âƒ£ Configure as variÃ¡veis de ambiente

Crie um arquivo .env:

DATABASE_URL=postgresql://usuario:senha@localhost:5432/payment_db
JWT_SECRET_KEY=sua_chave_secreta


Ou para testes rÃ¡pidos:

DATABASE_URL=sqlite:///payment.db
JWT_SECRET_KEY=dev_secret

5ï¸âƒ£ Execute a aplicaÃ§Ã£o
python app.py


A API estarÃ¡ disponÃ­vel em:

http://127.0.0.1:5000



ğŸ— Arquitetura
payment-api/
â”‚
â”œâ”€â”€ app.py
â”œâ”€â”€ config.py
â”œâ”€â”€ extensions.py
â”œâ”€â”€ models.py
â”‚
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.py
â”‚   â”œâ”€â”€ orders.py
â”‚   â””â”€â”€ payments.py